<!DOCTYPE html>
<html>
  <head>
    <title>Deutsch-Deklination-Explorer</title>
    <meta name="google" value="notranslate" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
    <meta http-equiv="Content-Language" content="de" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
    var suffixe = {
      nominativ : {
          masculinen : '',
          neutral    : '',
          femininum  : 'e',
          plural     : 'e'
      },
      akkusativ : {
          masculinen : 'en',
          neutral    : '',
          femininum  : 'e',
          plural     : 'e'
      },
      dativ     : {
          masculinen : 'em',
          neutral    : 'em',
          femininum  : 'er',
          plural     : 'en'
      },
      genitiv   : {
          masculinen : 'es',
          neutral    : 'es',
          femininum  : 'er',
          plural     : 'er'
      }
    };
    var bestimmt_suffixe = {
      nominativ : {
        masculinen : 'er',
        neutral    : 'es'
      },
      akkusativ : {
        neutral    : 'es'
      }
    };
    var ausnahmen = {
      bestimmt : {
        nominativ : {
          neutral   : 'das'
        },
        akkusativ : {
          neutral   : 'das'
        }
      },
      relativ : {
        nominativ : {
          neutral   : 'das'
        },
        akkusativ : {
          neutral   : 'das'
        },
        dativ : {
          plural : 'denen'
        },
        genitiv : {
          masculinen : 'dessen',
          neutral    : 'dessen',
          femininum  : 'deren', // derer?
          plural     : 'deren'  // derer?
        }
      },
      eur : {
        nominativ : {
          masculinen : 'euer',
          neutral    : 'euer'
        },
        akkusativ : {
          neutral    : 'euer'
        }
      }
    };
    // We use 'kase' because 'case' is a keyword in JavaScript
    function find_suffix(group, gloss, stem, kase, gender) {
      if (group == 'bestimmt' && bestimmt_suffixe[kase] && bestimmt_suffixe[kase][gender]) {
        return bestimmt_suffixe[kase][gender];
      } else {
        return suffixe[kase][gender];
      }
    }
    function decline(group, gloss, stem, kase, gender, suffix) {
      if (stem == 'ein' && gender == 'plural') {
        return '';
      } else if (ausnahmen[gloss] && ausnahmen[gloss][kase] && ausnahmen[gloss][kase][gender]) {
        return ausnahmen[gloss][kase][gender];
      } else {
        if (gloss == 'bestimmt' || gloss == 'relativ') {
          stem = 'd';
          if (suffix == 'e') {
            suffix = 'ie';
          }
        }
        return (stem ? stem : (suffix ? '-' : '')) + suffix;
      }
    }
    function render() {
      var menu = $('#stem');
      var selection = menu.find('option:selected');
      var group = selection.parent('optgroup').attr('label');
      var gloss = menu.val();
      var stem = selection.text().replace('-', '');
      for (var kase in suffixe) {
        for (var gender in suffixe[kase]) {
          var suffix = find_suffix(group, gloss, stem, kase, gender);
          var form = decline(group, gloss, stem, kase, gender, suffix);
          if (! form.length || form.slice(-suffix.length) != suffix) {
            suffix = '';
          }
          if (form.slice(-2) == 'as') {
            suffix = 'as';
          } else if (form.slice(-5) == 'essen') {
            suffix = 'essen';
          } else if (form.slice(-4) == 'eren') {
            suffix = 'eren';
          }
          $('table#bestimmungswoertern tr.' + kase + ' > td.' + gender).text(form).removeClass('e er en em es as eren essen').addClass(suffix);
        }
      }
    };
    function hashchange() {
      var selected = document.location.hash.replace('#', '');
      if (selected) {
        try {
          if ($('#stem').find('option:[value='+selected+']').length) {
            $('#stem').val(selected);
          } else {
            document.location.hash = '';
          }
        } catch (error) {
          document.location.hash = '';
        }
      } else {
        $($('#stem option')[0]).attr('selected', true);
      }
      render();
    };
    function menuchange() {
      var stem = $('#stem').val();
      document.location.hash = stem;
    };
    $(document).ready(function () {
      $('#stem').change(menuchange);
      $(window).bind('hashchange', hashchange);
      $(window).trigger('hashchange');
    });
    </script>
    <style>
      body {
        width: 605px;
        margin: 0 auto;
        text-align: center;
        line-height: 1.5em;
      }
      footer {
        width: 605px;
        font-size: 0.66em;
        line-height: 1.5em;
        margin-top: 4em;
      }
      label { font-weight: bold; }
      table {
        border-collapse: collapse;
        width: 100%;
      }
      td, th {
        padding: 0 0.125em;
      }
      th {
        vertical-align: top;
      }
      th:first-child {
        text-align: right;
        padding-right: 0.25em;
      }
      table#bestimmungswoertern td, table#bestimmungswoertern th {
        width: 20%;
      }
      table#pronomen td, table#pronomen th {
        width: 9.09%; /* 1/11th */
      }
      table#pronomen th:first-child {
        width: 18.18%; /* 2/11ths */
      }
      td.es          { background-color: #fdfdb4; } /* yellow       */
      td.essen       { background-color: #e4f6af; } /* green-yellow */
      td.en, td.enen { background-color: #aaeeaa; } /* green        */
      td.eren        { background-color: #aaddee; } /* teal         */
      td.er          { background-color: #aac6ee; } /* blue         */
      td.em          { background-color: #d7aaee; } /* purple       */
      td.e           { background-color: #fdb4b4; } /* red          */
      td.as          { background-color: #fde0b4; } /* orange       */
      a, a:visited { color: #000; }
      a:hover { color: #00E; }
      a:active { color: #E00; }
    </style>
  </head>
  <body class="notranslate">
    <h1>Deutsch-Deklination-Explorer</h1>
    <h2>Pronomen</h2>
    <table id="pronomen">
      <tbody>
        <tr>
          <th></th>
          <th rowspan="2">In&shy;ter&shy;ro&shy;ga&shy;tiv</th>
          <th>erste </th>
          <th>erste </th>
          <th>zweite</th>
          <th>zweite</th>
          <th>dritte</th>
          <th>dritte</th>
          <th>dritte</th>
          <th>dritte</th>
        </tr>
        <tr>
          <th></th>
          <th>Singular</th>
          <th>Plural  </th>
          <th>Singular</th>
          <th>Plural  </th>
          <th>Singular</th>
          <th>Singular</th>
          <th>Singular</th>
          <th>Plural  </th>
        </tr>
        <tr>
          <th></th>
          <th colspan="5"></th>
          <th>Mas&shy;culinen</th>
          <th>Neutral</th>
          <th>Fem&shy;ininum</th>
          <th></th>
        </tr>
        <tr>
          <th>Nominativ</th>
          <td class="er">wer</td>
          <td>ich</td>
          <td>wir</td>
          <td>du </td>
          <td>ihr</td>
          <td class="er">er </td>
          <td class="es">es </td>
          <td class="e" >sie</td>
          <td class="e" >sie</td>
        </tr>
        <tr>
          <th>Akkusativ</th>
          <td class="en">wen</td>
          <td>mich</td>
          <td>uns </td>
          <td>dich</td>
          <td>euch</td>
          <td class="en">ihn</td>
          <td class="es">es </td>
          <td class="e" >sie</td>
          <td class="e" >sie</td>
        </tr>
        <tr>
          <th>Dativ</th>
          <td class="em">wem</td>
          <td>mir </td>
          <td>uns </td>
          <td>dir </td>
          <td>euch</td>
          <td class="em">ihm  </td>
          <td class="em">ihm  </td>
          <td class="er">ihr  </td>
          <td class="en">ihnen</td>
        </tr>
        <tr>
          <th>Genitiv</th>
          <td class="essen">wessen</td>
          <td><a href="#mein" >mein-</a></td>
          <td><a href="#unser">unser-</a></td>
          <td><a href="#dein" >dein-</a></td>
          <td><a href="#eur"  >eur-</a></td>
          <td><a href="#sein" >sein-</a></td>
          <td><a href="#sein" >sein-</a></td>
          <td class="er"><a href="#ihr">ihr-</a></td>
          <td class="er"><a href="#ihr">ihr-</a></td>
        </tr>
      </tbody>
    </table>
    <h2>Bestimmungsw&ouml;rtern</h2>
    <form>
      <label for="stem">Stamm:</label>
      <select id="stem">
        <optgroup label="unbestimmt">
          <option value="unbestimmt_suffix"></option>
          <option value="ein"  >ein-</option>
          <option value="kein" >kein-</option>
          <option value="mein" >mein-</option>
          <option value="unser">unser-</option>
          <option value="dein" >dein-</option>
          <option value="eur"  >eur-</option>
          <option value="sein" >sein-</option>
          <option value="ihr"  >ihr-</option>
        </optgroup>
        <optgroup label="bestimmt">
          <option value="bestimmt_suffix"></option>
          <option value="bestimmt"> bestimmt</option>
          <option value="relativ" > relativ</option>
          <option value="dies"    >dies-</option>
          <option value="jen"     >jen-</option>
          <option value="welch"   >welch-</option>
        </optgroup>
      </select>
    </form>
    <table id="bestimmungswoertern">
      <tbody>
        <tr>
          <th></th>
          <th>Singular</th>
          <th>Singular</th>
          <th>Singular</th>
          <th>Plural</th>
        </tr>
        <tr>
          <th></th>
          <th>Masculinen</th>
          <th>Neutral</th>
          <th>Femininum</th>
          <th></th>
        </tr>
        <tr class="nominativ">
          <th>Nominativ</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
        <tr class="akkusativ">
          <th>Akkusativ</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
        <tr class="dativ">
          <th>Dativ</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
        <tr class="genitiv">
          <th>Genitiv</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
      </tbody>
    </table>
    <footer>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
        <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" />
      </a>
      <br />
      <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource" property="dct:title" rel="dct:type">Deutsch</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://glyphobet.net/" property="cc:attributionName" rel="cc:attributionURL">Matt Chisholm</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
      <br />
      Original page hosted at <a xmlns:dct="http://purl.org/dc/terms/" href="http://glyphobet.net/deutsch" rel="dct:source">glyphobet.net</a>. Source code on <a xmlns:dct="http://purl.org/dc/terms/" href="http://github.com/glyphobet/deutsch" rel="dct:source">github</a>.
    </footer>
  </body>
</html>