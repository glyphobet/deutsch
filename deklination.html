<!DOCTYPE html>
<html>
  <head>
    <title>Deutsch-Deklination-Explorer</title>
    <meta name="google" value="notranslate" />
    <meta http-equiv="Content-Language" content="de" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
    var suffixe = {
      nominativ : {
          masculinen : '',
          neutral    : '',
          femininum  : 'e',
          plural     : 'e'
      },
      akkusativ : {
          masculinen : 'en',
          neutral    : '',
          femininum  : 'e',
          plural     : 'e'
      },
      dativ     : {
          masculinen : 'em',
          neutral    : 'em',
          femininum  : 'er',
          plural     : 'en'
      },
      genitiv   : {
          masculinen : 'es',
          neutral    : 'es',
          femininum  : 'er',
          plural     : 'er'
      }
    };
    var bestimmt_suffixe = {
      nominativ : {
        masculinen : 'er',
        neutral    : 'es'
      },
      akkusativ : {
        neutral    : 'es'
      }
    };
    var ausnahmen = {
      d : {
        nominativ : {
          neutral   : 'das',
          femininum : 'die',
          plural    : 'die'
        },
        akkusativ : {
          neutral   : 'das',
          femininum : 'die',
          plural    : 'die'
        }
      },
      eur : {
        nominativ : {
          masculinen : 'euer',
          neutral    : 'euer'
        },
        akkusativ : {
          neutral    : 'euer'
        }
      }
    };
    // We use 'kase' because 'case' is a keyword in JavaScript
    function find_suffix(group, stem, kase, gender) {
      if (group == 'bestimmt' && bestimmt_suffixe[kase] && bestimmt_suffixe[kase][gender]) {
        return bestimmt_suffixe[kase][gender];
      } else {
        return suffixe[kase][gender];
      }
    }
    function decline(group, stem, kase, gender, suffix) {
      if (stem == 'ein' && gender == 'plural') {
        return '';
      } else if (ausnahmen[stem] && ausnahmen[stem][kase] && ausnahmen[stem][kase][gender]) {
        return ausnahmen[stem][kase][gender];
      } else {
        return (stem ? stem : (suffix ? '-' : '')) + suffix;
      }
    }
    function render() {
      var stem = $('#stem').val();
      var group = $('#stem option:selected').parent('optgroup').attr('label');
      document.location.hash = stem;
      for (var kase in suffixe) {
        for (var gender in suffixe[kase]) {
          var suffix = find_suffix(group, stem, kase, gender);
          var form = decline(group, stem, kase, gender, suffix);
          if (! form.length) {
            suffix = '';
          } else if (form.slice(-2) == 'as') {
            suffix = 'as';
          }
          $('tr.' + kase + ' > td.' + gender).text(form).removeClass('e er en em es as').addClass(suffix);
        }
      }
    };
    $(document).ready(function () {
      $('#stem').change(render);
      var selected = document.location.hash.replace('#', '');
      if (selected) {
        $('#stem').val(selected);
      } else {
        $($('#stem option')[0]).attr('selected', true);
      }
      $('#stem').change();
    });
    </script>
    <style>
      body {
        width: 605px;
        margin: 0 auto;
        text-align: center;
        line-height: 1.5em;
      }
      footer {
        width: 605px;
        font-size: 0.66em;
        position: absolute;
        bottom: 0;
      }
      table {
        border-collapse: collapse;
        width: 100%;
      }
      td, th {
        padding: 0 0.125em;
      }
      table#determiners td, table#determiners th {
        width: 20%;
      }
      table#pronouns td, table#pronouns th {
        width: 9.09%;
      }
      th {
        vertical-align: bottom;
      }
      th:first-child {
        text-align: right;
      }
      table#pronouns th:first-child {
        width: 18.18%;
      }
      td.es { background-color: #fdfdb4; } /* yellow */
      td.en { background-color: #a9eea9; } /* green  */
      td.er { background-color: #a9c6ee; } /* blue   */
      td.em { background-color: #d7a9ee; } /* purple */
      td.e  { background-color: #fdb4b4; } /* red    */
      td.as { background-color: #fde0b4; } /* orange */
    </style>
  </head>
  <body class="notranslate">
    <h1>Deutsch-Deklination-Explorer</h1>
    <h2>Pronomen</h2>
    <table id="pronouns">
      <tbody>
        <tr>
          <th></th>
          <th rowspan="2">inter&shy;rogativ</th>
          <th>erste</th>
          <th>erste</th>
          <th>zweite</th>
          <th>zweite</th>
          <th>dritte</th>
          <th>dritte</th>
          <th>dritte</th>
          <th>dritte</th>
        </tr>
        <tr>
          <th></th>
          <th>singular</th>
          <th>plural</th>
          <th>singular</th>
          <th>plural</th>
          <th>singular</th>
          <th>singular</th>
          <th>singular</th>
          <th>plural</th>
        </tr>
        <tr>
          <th></th>
          <th colspan="5"></th>
          <th>mas&shy;culinen</th>
          <th>neutral</th>
          <th>fem&shy;ininum</th>
        </tr>
        <tr>
          <th>nominative</th>
          <td class="er">wer</td>
          <td>ich</td>
          <td>wir</td>
          <td>du </td>
          <td>ihr</td>
          <td class="er">er </td>
          <td class="es">es </td>
          <td class="e">sie</td>
          <td class="e">sie</td>
        </tr>
        <tr>
          <th>akkusativ</th>
          <td class="en">wen</td>
          <td>mich</td>
          <td>uns </td>
          <td>dich</td>
          <td>euch</td>
          <td class="en">ihn </td>
          <td class="es">es  </td>
          <td class="e">sie </td>
          <td class="e">sie </td>
        </tr>
        <tr>
          <th>dative</th>
          <td class="em">wem</td>
          <td>mir  </td>
          <td>uns  </td>
          <td>dir  </td>
          <td>euch </td>
          <td class="em">ihm  </td>
          <td class="em">ihm  </td>
          <td class="er">ihr  </td>
          <td class="en">ihnen</td>
        </tr>
        <tr>
          <th>genitive</th>
          <td>wessen</td>
          <td><a href="#mein" >mein-</a></td>
          <td><a href="#unser">unser-</a></td>
          <td><a href="#dein" >dein-</a></td>
          <td><a href="#eur"  >eur-</a></td>
          <td><a href="#sein" >sein-</a></td>
          <td><a href="#sein" >sein-</a></td>
          <td class="er"><a href="#ihr"  >ihr-</a></td>
          <td class="er"><a href="#ihr"  >ihr-</a></td>
        </tr>
      </tbody>
    </table>
    <h2>Bestimmungsw&ouml;rtern</h2>
    <form>
      <label for="stem">stamm:</label>
      <select id="stem">
        <optgroup label="unbestimmt">
          <option value=""></option>
          <option value="ein"  >ein-</option>
          <option value="kein" >kein-</option>
          <option value="mein" >mein-</option>
          <option value="unser">unser-</option>
          <option value="dein" >dein-</option>
          <option value="eur"  >eur-</option>
          <option value="sein" >sein-</option>
          <option value="ihr"  >ihr-</option>
        </optgroup>
        <optgroup label="bestimmt">
          <option value=""></option>
          <option value="d"          >der/die/das</option>
          <option value="dies"       >dies-</option>
          <option value="jen"        >jen-</option>
          <option value="welch"      >welch-</option>
        </optgroup>
      </select>
    </form>
    <table id="determiners">
      <tbody>
        <tr>
          <th></th>
          <th>masculinen</th>
          <th>neutral</th>
          <th>femininum</th>
          <th>plural</th>
        </tr>
        <tr class="nominativ">
          <th>nominativ</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
        <tr class="akkusativ">
          <th>akkusativ</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
        <tr class="dativ">
          <th>dativ</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
        <tr class="genitiv">
          <th>genitiv</th>
          <td class="masculinen"></td>
          <td class="neutral"   ></td>
          <td class="femininum" ></td>
          <td class="plural"    ></td>
        </tr>
      </tbody>
    </table>
    <footer>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
        <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" />
      </a>
      <br />
      <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource" property="dct:title" rel="dct:type">Deutsch</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://glyphobet.net/deutsch" property="cc:attributionName" rel="cc:attributionURL">Matt Chisholm</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
      <br />
      Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://glyphobet.net/deutsch" rel="dct:source">glyphobet.net</a>.
    </footer>
  </body>
</html>